# YoutubeLive DiscordBot 計画

## 目的
- YouTubeのライブ配信/予定を検知し、Discordに通知するBotを作る。
- 運用に必要な設定と監視を最小限にし、安定稼働させる。

## スコープ
- YouTubeチャンネル/配信枠の監視
- Discord通知（開始/予定/終了 など）
- 設定ファイルによる運用（`config.json`、雛形は `sample_config.json`）
- 秘密情報は `.env` で管理

## 主要機能（案）
- 監視対象チャンネル/配信枠の登録
- YouTube API からライブ情報取得
- Discord Webhook で通知（Embed形式）
- 通知テンプレート（タイトル/URL/サムネ/開始時刻）
- 通知タイミングは取得時点で「新規」または「差分あり」の場合に送信（同一配信予定は抑止）
- 差分判定はタイトル/URL/サムネ/開始時刻のみを対象にする
- 通知種類: 配信予定が登録されたとき / 配信予定が修正されたとき / 配信が開始されたとき / 配信が終了されたとき
- 通知種別ごとのEmbed色: 登録=黄緑 / 修正=オレンジ / 開始=水色 / 終了=赤
- `sample_config.json` に通知テンプレート設定（通知種類/Embed色/表示フィールド）を持たせる
- レート制限/リトライ/エラーログ
- すべてのログは単一ファイル `latest.log` に保存（出力先は `.env` で指定可能にする）
- `config.json` で実行間隔（何分毎）を指定可能にする（雛形は `sample_config.json`）

## 体制/技術（仮）
- 言語: Node.js
- 実行: 常駐プロセス
- 設定: `config.json`（雛形: `sample_config.json`）
- 機密情報: `.env`（例: APIトークン）
- `.env` で `config.json` のディレクトリ指定を可能にする

## 進め方
1. 要件整理（通知タイミング、対象範囲、運用環境）
2. 技術選定（言語/ライブラリ/ホスティング）
3. 最小実装（MVP）
4. 運用機能追加（ログ、監視、再起動）
5. 本番運用

## 未確定事項
- 対象チャンネル数
- 通知チャンネル数/通知形式
- 使用するYouTube APIの種類（Data API/Push通知 等）
- ホスティング環境（自宅/クラウド）

## 次のアクション
- 具体的な要件を確認して計画を更新する
